<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqusjs.css">
<script src="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqus.js"></script>

<div class="container" style="padding-right: 50px;padding-left: 50px;">
<div class="row">

<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1" id="disqus_thread">
    <center><p>æ— æ³•åŠ è½½disqusğŸ˜…</p></center>
</div>

</div>
</div>

<script>
    function loadDisqus() {
        var dsqjs = new DisqusJS({
            shortname: '{{site.disqus_shortname}}',
            siteName: 'yanghong.tech',
            identifier: '{{page.title}}',
            url: '{{site.url}}/{{page.title}}',
            title: '{{page.title}}',
            api: 'https://disqus.skk.moe/disqus/',
            apikey: '3NzVDWAc2qa6S9P92290Sf9lTBg8uQfilW9PqCjchRMFja4NX4Jnlsm1FuThGzqP',
            admin: 'yang hong',
            adminLabel: 'yang hong'
        });
    }
  
    // é€šè¿‡æ£€æŸ¥ window å¯¹è±¡ç¡®è®¤æ˜¯å¦åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ
    var runningOnBrowser = typeof window !== "undefined";
    // é€šè¿‡æ£€æŸ¥ scroll äº‹ä»¶ API å’Œ User-Agent æ¥åŒ¹é…çˆ¬è™«
    var isBot = runningOnBrowser && !("onscroll" in window) || typeof navigator !== "undefined" && /(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);
    // æ£€æŸ¥å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒ IntersectionObserver API
    var supportsIntersectionObserver = runningOnBrowser && "IntersectionObserver" in window;
  
    // ä¸€ä¸ªå° hackï¼Œå°†è€—æ—¶ä»»åŠ¡åŒ…è£¹åœ¨ setTimeout(() => { }, 1) ä¸­ï¼Œå¯ä»¥æ¨è¿Ÿåˆ° Event Loop çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€ç­‰å¾…ä¸»è°ƒç”¨æ ˆæ¸…ç©ºåæ‰æ‰§è¡Œï¼Œåœ¨ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­éƒ½æœ‰æ•ˆ
    // å…¶å®è¿™ä¸ª hack æœ¬æ¥æ˜¯ç”¨äºä¼˜åŒ–éª¨æ¶å±æ˜¾ç¤ºçš„ã€‚ä¸€äº›æµè§ˆå™¨æ€»æ˜¯ç­‰ JavaScript æ‰§è¡Œå®Œäº†æ‰å¼€å§‹é¡µé¢æ¸²æŸ“ï¼Œå¯¼è‡´éª¨æ¶å±èµ·ä¸åˆ°é™ä½ FCP çš„ä¼˜åŒ–æ•ˆæœï¼Œæ‰€ä»¥é€šè¿‡ hack å°†è€—æ—¶å‡½æ•°æ”¾åˆ°éª¨æ¶å±æ¸²æŸ“å®Œæˆåå†è¿›è¡Œã€‚
    setTimeout(function () {
        if (!isBot && supportsIntersectionObserver) {
            // å½“å‰ç¯å¢ƒä¸æ˜¯çˆ¬è™«ã€å¹¶ä¸”æµè§ˆå™¨å…¼å®¹ IntersectionObserver API
            var disqus_observer = new IntersectionObserver(function(entries) {
                // å½“å‰è§†çª—ä¸­å·²å‡ºç° Disqus è¯„è®ºæ¡†æ‰€åœ¨ä½ç½®
                if (entries[0].isIntersecting) {
                    // åŠ è½½ Disqus
                    loadDisqus();
                    // åœæ­¢å½“å‰çš„ Observer
                    disqus_observer.disconnect();
                }
            }, { threshold: [0] });
            // è®¾ç½®è®© Observer è§‚å¯Ÿ #disqus_thread å…ƒç´ 
            disqus_observer.observe(document.getElementById('star'));
        } else {
            // å½“å‰ç¯å¢ƒæ˜¯çˆ¬è™«ã€æˆ–å½“å‰æµè§ˆå™¨å…¶ä¸å…¼å®¹ IntersectionObserver API
            // ç›´æ¥åŠ è½½ Disqus
            loadDisqus();
        }
    }, 1);

</script>